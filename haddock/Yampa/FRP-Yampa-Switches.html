<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>FRP.Yampa.Switches</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_FRP-Yampa-Switches.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">Yampa-0.9.6: Library for programming hybrid systems.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>non-portable (GHC extensions)</td></tr><tr><th>Stability</th><td>provisional</td></tr><tr><th>Maintainer</th><td>ivan.perez@keera.co.uk</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">FRP.Yampa.Switches</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Switching
</a><ul><li><a href="#g:2">Basic switchers
</a></li><li><a href="#g:3">Parallel composition and switching
</a><ul><li><a href="#g:4">Parallel composition and switching over collections with broadcasting
</a></li><li><a href="#g:5">Parallel composition and switching over collections with general routing
</a></li></ul></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:switch">switch</a> ::  <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (b, <a href="FRP-Yampa-Event.html#t:Event">Event</a> c) -&gt; (c -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b</li><li class="src short"><a href="#v:dSwitch">dSwitch</a> ::  <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (b, <a href="FRP-Yampa-Event.html#t:Event">Event</a> c) -&gt; (c -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b</li><li class="src short"><a href="#v:rSwitch">rSwitch</a> ::  <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, <a href="FRP-Yampa-Event.html#t:Event">Event</a> (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b)) b</li><li class="src short"><a href="#v:drSwitch">drSwitch</a> ::  <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, <a href="FRP-Yampa-Event.html#t:Event">Event</a> (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b)) b</li><li class="src short"><a href="#v:kSwitch">kSwitch</a> ::  <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, b) (<a href="FRP-Yampa-Event.html#t:Event">Event</a> c) -&gt; (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b -&gt; c -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b</li><li class="src short"><a href="#v:dkSwitch">dkSwitch</a> ::  <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, b) (<a href="FRP-Yampa-Event.html#t:Event">Event</a> c) -&gt; (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b -&gt; c -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b</li><li class="src short"><a href="#v:parB">parB</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col b)</li><li class="src short"><a href="#v:pSwitchB">pSwitchB</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, col b) (<a href="FRP-Yampa-Event.html#t:Event">Event</a> c) -&gt; (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; c -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col b)) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col b)</li><li class="src short"><a href="#v:dpSwitchB">dpSwitchB</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, col b) (<a href="FRP-Yampa-Event.html#t:Event">Event</a> c) -&gt; (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; c -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col b)) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col b)</li><li class="src short"><a href="#v:rpSwitchB">rpSwitchB</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, <a href="FRP-Yampa-Event.html#t:Event">Event</a> (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b))) (col b)</li><li class="src short"><a href="#v:drpSwitchB">drpSwitchB</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, <a href="FRP-Yampa-Event.html#t:Event">Event</a> (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b))) (col b)</li><li class="src short"><a href="#v:par">par</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; (<span class="keyword">forall</span> sf.  a -&gt; col sf -&gt; col (b, sf)) -&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col c)</li><li class="src short"><a href="#v:pSwitch">pSwitch</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; (<span class="keyword">forall</span> sf.  a -&gt; col sf -&gt; col (b, sf)) -&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, col c) (<a href="FRP-Yampa-Event.html#t:Event">Event</a> d) -&gt; (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c) -&gt; d -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col c)) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col c)</li><li class="src short"><a href="#v:dpSwitch">dpSwitch</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; (<span class="keyword">forall</span> sf.  a -&gt; col sf -&gt; col (b, sf)) -&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, col c) (<a href="FRP-Yampa-Event.html#t:Event">Event</a> d) -&gt; (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c) -&gt; d -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col c)) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col c)</li><li class="src short"><a href="#v:rpSwitch">rpSwitch</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; (<span class="keyword">forall</span> sf.  a -&gt; col sf -&gt; col (b, sf)) -&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, <a href="FRP-Yampa-Event.html#t:Event">Event</a> (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c) -&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c))) (col c)</li><li class="src short"><a href="#v:drpSwitch">drpSwitch</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; (<span class="keyword">forall</span> sf.  a -&gt; col sf -&gt; col (b, sf)) -&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, <a href="FRP-Yampa-Event.html#t:Event">Event</a> (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c) -&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c))) (col c)</li></ul></div><div id="interface"><h1 id="g:1">Switching
</h1><h2 id="g:2">Basic switchers
</h2><div class="top"><p class="src"><a name="v:switch" class="def">switch</a> ::  <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (b, <a href="FRP-Yampa-Event.html#t:Event">Event</a> c) -&gt; (c -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b</p><div class="doc"><p>Basic switch.
</p><p>By default, the first signal function is applied.
</p><p>Whenever the second value in the pair actually is an event,
 the value carried by the event is used to obtain a new signal
 function to be applied *at that time and at future times*.
</p><p>Until that happens, the first value in the pair is produced
 in the output signal.
</p><p>Important note: at the time of switching, the second
 signal function is applied immediately. If that second
 SF can also switch at time zero, then a double (nested)
 switch might take place. If the second SF refers to the
 first one, the switch might take place infinitely many
 times and never be resolved.
</p><p>Remember: The continuation is evaluated strictly at the time
 of switching!
</p></div></div><div class="top"><p class="src"><a name="v:dSwitch" class="def">dSwitch</a> ::  <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (b, <a href="FRP-Yampa-Event.html#t:Event">Event</a> c) -&gt; (c -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b</p><div class="doc"><p>Switch with delayed observation.
</p><p>By default, the first signal function is applied.
</p><p>Whenever the second value in the pair actually is an event,
 the value carried by the event is used to obtain a new signal
 function to be applied *at future times*.
</p><p>Until that happens, the first value in the pair is produced
 in the output signal.
</p><p>Important note: at the time of switching, the second
 signal function is used immediately, but the current
 input is fed by it (even though the actual output signal
 value at time 0 is discarded). 
</p><p>If that second SF can also switch at time zero, then a
 double (nested) -- switch might take place. If the second SF refers to the
 first one, the switch might take place infinitely many times and never be
 resolved.
</p><p>Remember: The continuation is evaluated strictly at the time
 of switching!
</p></div></div><div class="top"><p class="src"><a name="v:rSwitch" class="def">rSwitch</a> ::  <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, <a href="FRP-Yampa-Event.html#t:Event">Event</a> (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b)) b</p><div class="doc"><p>Recurring switch.
</p><p>See <a href="http://www.haskell.org/haskellwiki/Yampa#Switches">http://www.haskell.org/haskellwiki/Yampa#Switches</a> for more
 information on how this switch works.
</p></div></div><div class="top"><p class="src"><a name="v:drSwitch" class="def">drSwitch</a> ::  <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, <a href="FRP-Yampa-Event.html#t:Event">Event</a> (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b)) b</p><div class="doc"><p>Recurring switch with delayed observation.
</p><p>See <a href="http://www.haskell.org/haskellwiki/Yampa#Switches">http://www.haskell.org/haskellwiki/Yampa#Switches</a> for more
 information on how this switch works.
</p></div></div><div class="top"><p class="src"><a name="v:kSwitch" class="def">kSwitch</a> ::  <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, b) (<a href="FRP-Yampa-Event.html#t:Event">Event</a> c) -&gt; (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b -&gt; c -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b</p><div class="doc"><p><a href="Call-with-current-continuation.html">Call-with-current-continuation</a> switch.
</p><p>See <a href="http://www.haskell.org/haskellwiki/Yampa#Switches">http://www.haskell.org/haskellwiki/Yampa#Switches</a> for more
 information on how this switch works.
</p></div></div><div class="top"><p class="src"><a name="v:dkSwitch" class="def">dkSwitch</a> ::  <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, b) (<a href="FRP-Yampa-Event.html#t:Event">Event</a> c) -&gt; (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b -&gt; c -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b</p><div class="doc"><p><code><a href="FRP-Yampa-Switches.html#v:kSwitch">kSwitch</a></code> with delayed observation.
</p><p>See <a href="http://www.haskell.org/haskellwiki/Yampa#Switches">http://www.haskell.org/haskellwiki/Yampa#Switches</a> for more
 information on how this switch works.
</p></div></div><h2 id="g:3">Parallel composition and switching
</h2><h3 id="g:4">Parallel composition and switching over collections with broadcasting
</h3><div class="top"><p class="src"><a name="v:parB" class="def">parB</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col b)</p><div class="doc"><p>Spatial parallel composition of a signal function collection.
 Given a collection of signal functions, it returns a signal
 function that <code>broadcast</code>s its input signal to every element
 of the collection, to return a signal carrying a collection
 of outputs. See <code><a href="FRP-Yampa-Switches.html#v:par">par</a></code>.
</p><p>For more information on how parallel composition works, check
 <a href="http://haskell.cs.yale.edu/wp-content/uploads/2011/01/yampa-arcade.pdf">http://haskell.cs.yale.edu/wp-content/uploads/2011/01/yampa-arcade.pdf</a>
</p></div></div><div class="top"><p class="src"><a name="v:pSwitchB" class="def">pSwitchB</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, col b) (<a href="FRP-Yampa-Event.html#t:Event">Event</a> c) -&gt; (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; c -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col b)) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col b)</p><div class="doc"><p>Parallel switch (dynamic collection of signal functions spatially composed
 in parallel). See <code><a href="FRP-Yampa-Switches.html#v:pSwitch">pSwitch</a></code>.
</p><p>For more information on how parallel composition works, check
 <a href="http://haskell.cs.yale.edu/wp-content/uploads/2011/01/yampa-arcade.pdf">http://haskell.cs.yale.edu/wp-content/uploads/2011/01/yampa-arcade.pdf</a>
</p></div></div><div class="top"><p class="src"><a name="v:dpSwitchB" class="def">dpSwitchB</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, col b) (<a href="FRP-Yampa-Event.html#t:Event">Event</a> c) -&gt; (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; c -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col b)) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col b)</p><div class="doc"><p>Delayed parallel switch with broadcasting (dynamic collection of
   signal functions spatially composed in parallel). See <code><a href="FRP-Yampa-Switches.html#v:dpSwitch">dpSwitch</a></code>.
</p><p>For more information on how parallel composition works, check
 <a href="http://haskell.cs.yale.edu/wp-content/uploads/2011/01/yampa-arcade.pdf">http://haskell.cs.yale.edu/wp-content/uploads/2011/01/yampa-arcade.pdf</a>
</p></div></div><div class="top"><p class="src"><a name="v:rpSwitchB" class="def">rpSwitchB</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, <a href="FRP-Yampa-Event.html#t:Event">Event</a> (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b))) (col b)</p></div><div class="top"><p class="src"><a name="v:drpSwitchB" class="def">drpSwitchB</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, <a href="FRP-Yampa-Event.html#t:Event">Event</a> (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b) -&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a b))) (col b)</p></div><h3 id="g:5">Parallel composition and switching over collections with general routing
</h3><div class="top"><p class="src"><a name="v:par" class="def">par</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<span class="keyword">forall</span> sf.  a -&gt; col sf -&gt; col (b, sf))</td><td class="doc"><p>Determines the input to each signal function
     in the collection. IMPORTANT! The routing function MUST
     preserve the structure of the signal function collection.
</p></td></tr><tr><td class="src">-&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c)</td><td class="doc"><p>Signal function collection.
</p></td></tr><tr><td class="src">-&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col c)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Spatial parallel composition of a signal function collection parameterized
 on the routing function.
</p></div></div><div class="top"><p class="src"><a name="v:pSwitch" class="def">pSwitch</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<span class="keyword">forall</span> sf.  a -&gt; col sf -&gt; col (b, sf))</td><td class="doc"><p>Routing function: determines the input to each signal function
   in the collection. IMPORTANT! The routing function has an
   obligation to preserve the structure of the signal function
   collection.
</p></td></tr><tr><td class="src">-&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c)</td><td class="doc"><p>Signal function collection.
</p></td></tr><tr><td class="src">-&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, col c) (<a href="FRP-Yampa-Event.html#t:Event">Event</a> d)</td><td class="doc"><p>Signal function generating the switching event.
</p></td></tr><tr><td class="src">-&gt; (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c) -&gt; d -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col c))</td><td class="doc"><p>Continuation to be invoked once event occurs.
</p></td></tr><tr><td class="src">-&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col c)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Parallel switch parameterized on the routing function. This is the most
 general switch from which all other (non-delayed) switches in principle
 can be derived. The signal function collection is spatially composed in
 parallel and run until the event signal function has an occurrence. Once
 the switching event occurs, all signal function are <a href="frozen.html">frozen</a> and their
 continuations are passed to the continuation function, along with the
 event value.
</p></div></div><div class="top"><p class="src"><a name="v:dpSwitch" class="def">dpSwitch</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<span class="keyword">forall</span> sf.  a -&gt; col sf -&gt; col (b, sf))</td><td class="doc"><p>Routing function. Its purpose is
   to pair up each running signal function in the collection
   maintained by <code><a href="FRP-Yampa-Switches.html#v:dpSwitch">dpSwitch</a></code> with the input it is going to see
   at each point in time. All the routing function can do is specify
   how the input is distributed.
</p></td></tr><tr><td class="src">-&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c)</td><td class="doc"><p>Initial collection of signal functions.
</p></td></tr><tr><td class="src">-&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, col c) (<a href="FRP-Yampa-Event.html#t:Event">Event</a> d)</td><td class="doc"><p>Signal function that observes the external
   input signal and the output signals from the collection in order
   to produce a switching event.
</p></td></tr><tr><td class="src">-&gt; (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c) -&gt; d -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col c))</td><td class="doc"><p>The fourth argument is a function that is invoked when the
   switching event occurs, yielding a new signal function to switch
   into based on the collection of signal functions previously
   running and the value carried by the switching event. This
   allows the collection to be updated and then switched back
   in, typically by employing <code><a href="FRP-Yampa-Switches.html#v:dpSwitch">dpSwitch</a></code> again.
</p></td></tr><tr><td class="src">-&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> a (col c)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Parallel switch with delayed observation parameterized on the routing
 function.
</p><p>The collection argument to the function invoked on the
 switching event is of particular interest: it captures the
 continuations of the signal functions running in the collection
 maintained by <code><a href="FRP-Yampa-Switches.html#v:dpSwitch">dpSwitch</a></code> at the time of the switching event,
 thus making it possible to preserve their state across a switch.
 Since the continuations are plain, ordinary signal functions,
 they can be resumed, discarded, stored, or combined with
 other signal functions.
</p></div></div><div class="top"><p class="src"><a name="v:rpSwitch" class="def">rpSwitch</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; (<span class="keyword">forall</span> sf.  a -&gt; col sf -&gt; col (b, sf)) -&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, <a href="FRP-Yampa-Event.html#t:Event">Event</a> (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c) -&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c))) (col c)</p></div><div class="top"><p class="src"><a name="v:drpSwitch" class="def">drpSwitch</a> :: <a href="file:///usr/share/doc/ghc-doc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> col =&gt; (<span class="keyword">forall</span> sf.  a -&gt; col sf -&gt; col (b, sf)) -&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c) -&gt; <a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> (a, <a href="FRP-Yampa-Event.html#t:Event">Event</a> (col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c) -&gt; col (<a href="FRP-Yampa-InternalCore.html#t:SF">SF</a> b c))) (col c)</p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>